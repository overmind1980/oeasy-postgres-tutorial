---
show: step
version: 1.0
enable_checker: true
---

#  åµŒå¥—æŸ¥è¯¢_æ ¹æ®èšåˆå‡½æ•°ç»“æœ_è¿›è¡ŒæŸ¥è¯¢
 

##  å›å¿†

- ä¸Šæ¬¡äº†è§£äº†split_partå‡½æ•°
	- å¯ä»¥å°† å­—ç¬¦ä¸² æ ¹æ® åˆ†éš”ç¬¦ åˆ†å‰²å¼€æ¥
		- split_part(items, ' ', 1) AS item1,
	- å¦‚æœæˆ‘æƒ³å°†è¿™äº›åˆ†å‰²å‡ºæ¥çš„åˆ—
	- å˜æˆå®ä½“çš„åˆ—
	- åº”è¯¥å¦‚ä½•å‘¢ï¼Ÿ

### æ·»åŠ åˆ—
```
\c sanguo

ALTER TABLE heroes ADD COLUMN item1 VARCHAR(30);
ALTER TABLE heroes ADD COLUMN item2 VARCHAR(30);
ALTER TABLE heroes ADD COLUMN item3 VARCHAR(30);

\d heroes
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693454518092)

- å¯ä»¥æ›´æ–°æ•°æ®å—ï¼Ÿ

### update

```
\c sanguo

UPDATE 
	heroes 
SET 
	item1 = SPLIT_PART(items, ' ', 1), 
	item2 = SPLIT_PART(items, ' ', 2),
	item3 = SPLIT_PART(items, ' ', 3)
;

SELECT 
	items,
	item1,
	item2,
	item3
FROM
	heroes
;

```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693454597969)

- è¿™æ ·ä¿®æ”¹ä¹‹åæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ

### æŸ¥è¯¢æ›¹æ“çš„å®ç‰©

```
\c sanguo

SELECT 
    item1,
    item2,
    item3
FROM
	heroes
WHERE
    name = 'æ›¹æ“'
;
```

- è¿™æ ·æŸ¥è¯¢å‡ºæ¥çš„æ¯ä¸ªå®ç‰© 
	- éƒ½æ˜¯ç‹¬ç«‹çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693454803339)

- å¯ä»¥å°† æŸ¥è¯¢ç»“æœåˆæˆä¸€åˆ—å—ï¼Ÿ

### UNION

```
\c sanguo

(SELECT 
    item1 AS items
FROM
	heroes
WHERE
    name = 'æ›¹æ“')

UNION
(SELECT 
    item2 AS items
FROM
	heroes
WHERE
    name = 'æ›¹æ“')

UNION
(SELECT 
    item3 AS items
FROM
	heroes
WHERE
    name = 'æ›¹æ“')
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693456496251)

###  æ€»ç»“ğŸ¤”

- è¿™æ¬¡æ‹†å¼€äº†heroesè¡¨ä¸­çš„ä¸€åˆ—
	- å°†ä¸€åˆ— å˜æˆäº† ä¸‰åˆ—
	- å¹¶ä¸”å¡«å……äº† æ•°æ®
- è¿™æ ·åš æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ
	- æŸ¥è¯¢å‡ºæ¥çš„ç»“æœ éƒ½æ˜¯ å”¯ä¸€çš„å®ç‰©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693456496251)

- å’ŒåŸæ¥éƒ½å¤„äº ä¸€ä¸ªå­—æ®µä¸­ ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693456586271)

- æœ‰åˆ©äºåç»­çš„åµŒå¥—æŸ¥è¯¢
- è¿™ç§ä¸€åˆ— 
	- åªæœ‰ä¸€ä¸ªå®ç‰©çš„æ–¹å¼ 
	- å«åšåˆ—çš„åŸå­æ€§
- åˆ—çš„åŸå­æ€§ æœ‰ä»€ä¹ˆæ„ä¹‰å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»

