---
show: step
version: 1.0
enable_checker: true
---

#   ä»å®¢æˆ·è¡¨åˆ°é”€å”®è¡¨_1NF_åŸå­å€¼_atomic_value 
 

##  å›å¿†

- ä¸Šæ¬¡äº†è§£äº†ä¸€ä¸ªé”€å”®è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693705874990)

- å¸Œæœ›ä»¥æ­¤ä¸ºåŸºç¡€ æ„æˆä¸€ä¸ª 
	- CRM
	- å®¢æˆ·èµ„æºç®¡ç†ç³»ç»Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693707427718)

- æ€ä¹ˆåšå‘¢ï¼Ÿ

### ç›®å‰å­˜åœ¨é—®é¢˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693708321695)

- åœ°å€å†—ä½™
	- æå©‰è´­ä¹°ä¸¤æ¬¡
	- åœ°å€ä¹Ÿè®°è½½ä¸¤æ¬¡
- ç”µè¯å†—ä½™
	- sony è®°è½½äº† 3æ¬¡
	- apple è®°è½½äº† 2æ¬¡
- å•†å“è®°å½•å†—ä½™
	- ps5ã€mac é”€å”®ä¸¤æ¬¡
	- ä¾›åº”å•†ã€ç”µè¯ã€ä»·æ ¼éƒ½æ˜¯å†—ä½™çš„

### å†åˆ†æè¡¨æ ¼åˆ—ä¹‹é—´å…³ç³»

- é¡¾å®¢ å¯ä»¥å†³å®š 
	- å®¢æˆ·åœ°å€
- å•†å“ å¯ä»¥å†³å®š 
	- ä¾›åº”å•†
	- ç”µè¯
	- ä»·æ ¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693708143904)

- è®¡åˆ’æ‹†æˆ 3ä¸ªè¡¨æ ¼
	- é¡¾å®¢è¡¨
	- å•†å“è¡¨
	- é”€å”®è®°å½•è¡¨

### è®¡åˆ’ æ‹†è¡¨ç»“æœ

- é¡¾å®¢è¡¨ã€å•†å“è¡¨
	- æœ‰id
- é”€å”®è¡¨ 
	- è®°å½• ä¸¤è€…id

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693708351432)

### å½“å‰çŠ¶æ€

- å¦‚ä½• åœ¨å½“å‰çš„çŠ¶æ€ä¸‹å®ç°

```
CREATE DATABASE erp;

\c crm

CREATE TABLE sales(
	customer VARCHAR(30),
	product VARCHAR(30),
	address VARCHAR(30),
	supplier VARCHAR(30),
	telephone VARCHAR(30),
	price NUMERIC
)
;


INSERT INTO 
	sales(
	customer,
	product,
	address,
	supplier,
	telephone,
	price)
VALUES
	('æ¨æ˜','ps4','å®šç¦åº„1å·','sony','800-600-8888',3000),
	('æå©‰','ps5','æ¢†å­äº•1å·','sony','800-600-8888',10000),
	('æå©‰','mac','æ¢†å­äº•1å·','apple','800-666-1234',10000),
	('åˆ˜é’','mac','å®šç¦åº„1å·','apple','800-666-1234',10000),
	('èƒ¡å–µ','ps5','ä¸­è“1å·','sony','800-600-8888',10000)
;
```

### å»ºè¡¨

```
\c crm

CREATE TABLE customer(
	id SERIAL,
	name VARCHAR(30),
	address VARCHAR(30)
);

CREATE TABLE product(
	id SERIAL,
	product VARCHAR(30),
	supplier VARCHAR(30),
	telephone VARCHAR(30),
	price NUMERIC
);
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709080561)

### è´­ä¹°è¡¨ 

- è´­ä¹°è¡¨ å­˜å‚¨ä¸¤ä¸ªid
	- ä½†è¿™ä¸¤ä¸ªidæ˜¯SERIALç±»å‹çš„
	- ç°åœ¨åº”è¯¥ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709159574)

### å»ºç«‹ è´­ä¹°è¡¨

```
CREATE TABLE purchase(
	customer_id INTEGER,
	product_id INTEGER
);
```

- å»ºè¡¨æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709249343)

- å¦‚ä½•å°†åŸæ¥çš„æ•°æ® æ’è¿›æ¥å‘¢ï¼Ÿ

### å‡†å¤‡æ’å…¥æ•°æ®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709535977)

- æ³¨æ„ ç›´æ¥æŸ¥è¯¢ ä¼šå¯¼è‡´å®¢æˆ·çš„é‡å¤
- ä¸€å®šè¦å»é‡ï¼

### æ’å…¥å®¢æˆ·è¡¨æ•°æ®

```
INSERT INTO
	customer(name,address)
(
SELECT DISTINCT 
	customer,address
FROM
	sales
)
;
```

- æ’å…¥ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709747294)

### æ’å…¥äº§å“æ•°æ®

```
INSERT INTO product(
	product,
	supplier,
	telephone,
	price)
(
SELECT DISTINCT 
	product,supplier,telephone,price
FROM
	sales
)
;
```

- æ’å…¥ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693710152569)

- è¿™ä¸ªè´­ä¹°è®°å½•
	- åº”è¯¥å¦‚ä½•å…¥åº“å‘¢ï¼Ÿ

##  æ€»ç»“ğŸ¤”

- è¿™æ¬¡å®æ–½å°†åŸæ¥ä¸€ä¸ªé”€å”®è¡¨
	- æ‹†æˆ3ä¸ªè¡¨

- é¡¾å®¢è¡¨ å’Œ äº§å“è¡¨ 
	- éƒ½é¡ºåˆ©å»ºè¡¨
	- å¹¶æ’å…¥æ•°æ®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693710653862)

- è´­ä¹°è®°å½•è¡¨åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæ€è€ƒ
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»
