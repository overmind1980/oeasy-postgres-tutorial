---
show: step
version: 1.0
enable_checker: true
---

# 行业分析

## 选型

- 这次我们要学习数据库
  - 什么是数据库？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650102264659)

- 数据库就是数据的大宝库
	- 都有什么宝库呢？

### 宝库的排名

- 数据库 也有 排名
	- http://db-engines.com

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240409-1712638468646)

### 趋势图trends

- https://db-engines.com/en/ranking_trend

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240409-1712638562221)

- 前三名 一路纠缠
  - 分别 去看看 

### 第三名 sql server

- microsoft sqlserver
	- https://www.microsoft.com/en-us/sql-server/

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20240415-1713189047729) 

- 微软公司 的 数据库
	- 结合 微软的 云服务
	- 提供 现代数据平台

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20250714-1752468743340) 

- ai时代 
	- 加速构建 数据库

### 第二名 mysql

- mysql
	- https://www.mysql.com/

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650103117358)

- mysql 自称是
	- 世界上 `最流行`的 开源数据库
	- 流量明星 
- mysql 为什么
	- 当时 能成为 流量明星呢？

### 渊源

- 最早
	- mysql是monty创造的开源数据库
    - 正好赶上动态网页大爆发

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20250714-1752470849721) 

- LAMP 成为主流框架
    - Linux
    - Apache
    - Mysql
    - Php

- mysql开始的时候
	- 使用GPL协议
- 什么是GPL协议呢？

### 分支

- 能够得到
	- 开源社区的 支持呢？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240415-1713189402184)

- GPL需要开放源代码
  - 并且可以免费下载使用分发
  - 可以修改
- 修改之后也要遵守GPL协议公开并允许修改
  - 软件的子子孙孙都要遵循GPL
  - 这就是所谓的传染性
- GPL强迫大家把对软件做的改进回馈给社区
  - 让软件更好的延续下去
  - 只要遵守GPL
  - 这样大家好共同进步

### 正反馈

- 行业的大发展造成了正反馈
  - 大量的从业人员也导致
	- 大量的源代码维护需求
  - 大量的维护需求岗位导致
	- 培训的倾斜
  - 大量的培训倾斜导致
	- 公司选型的时候
	- 找这类开发人员更容易

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220419-1650370930040)

- 正当mysql发展得
	- 如火如荼之时
    - 一份收购合同发在了monty眼前

### 10亿美金

- 2008年
  - sun公司将向mysql
  - 支付8亿美元现金
  - 和价值2亿美元的期权
- 当时 mysql总部位于瑞典
  - 在全球25个国家
  - 共有约400名员工

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650106255004)

- monty带领mysql
	- 接受了sun的合同
- mysql首席执行官马顿·尼科斯(Marten Mickos)
	- 将加盟sun管理层
    - monty也将成为首席技术官
- 不过更诡异的事情
	- 在一年之后发生

### 收购的嵌套

- 一年之后，2009年
  - oracle收购了sun
  - 最大的商业数据库
	- 收购了最大的开源数据库厂牌
  - 第一名吞并了第二名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650106904917)

- 商业数据库oracle
	- 吞并了开源数据库mysql
	- 听起来有够诡异
	- 但是真实发生了
- oracle 是什么公司呢？

### oracle

- 看看网站上oracle
	- 是如何介绍自己的
	- https://www.oracle.com/database/
		- 世界上最流行和最先进的数据管理技术
		- 每天都被开发者所信

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650102873089)

- oracle确实是
	- 世界上最大的商业软件数据库软件公司
- 收购之后
	- mysql的命运如何呢？

### 收购之后

- oracle和mysql各有定位：
  - oracle有自己的一套商业的数据库应用
    - 那是他继续收购的财源
    - 是不可能免费的
  - 当时 mysql 
	- 是 最流行的数据库
	- 可以让oracle 抵御开源的威胁

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240415-1713189972886)

- 说起来
	- 最大的 商业/开源 数据库 
		- 都是oracle的
    	- 本身就是强化了oracle在数据库上的这个标签
		- 仿佛oracle数据库是最好的

### oracle进化过程

- 这让 oracle 在传统数据库领域 显得更权威
  - 毕竟 银行、军工之类的业务 选型相对保守的
  - 这就 保住了oracle的 财源

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20250714-1752471433085) 

- 而mysql广泛的用户基础
    - 也成为 oracle云的 一块 拉客招牌
- 这种大背景
	- 导致了oracle对于mysql的态度

### 态度

- mysql 这个 最流行开源数据库 有两个任务
    1. 用开源`免费优势` 压制 其他的商业数据库报价
      - 比如微软、IBM
    2. 用`流量优势` 压制 其他开源数据库用户数量
      - 比如postgres的生存空间

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20250714-1752471981768) 

- 但mysql `永远`不能 比oracle 更出风头

### 位置

- 所以mysql发展空间有限
  - 只能是个伴读书童
  - 护城河的一部分
  - 只能是oracle家的棋子

- 数据库领域开源的革命
	- 别想依赖mysql
    - 否则就永远只是个梦

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240415-1713190198979)

- oracle的态度
  - 也就导致了 开源开发人员
  - 离职时的抱怨

### 爆料

- 这位是 oracle公司内部的 大牛
	- 内部人士的 爆料
- 自媒体时代
	- 人人 都是 信息源

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650104131772)

- 在 公司内部和外部 连续五年
	- 都说了 这样的话

> mysql是很差劲的

> 还是用postgres替代吧！

>  同时maria-db也是不行的

- oracle面对这样的离职员工会如何处理呢？

### 无视

- oracle官方拒绝评论

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220419-1650332951265)

- 其他人怎么说呢？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220419-1650332957610)

- MariaDB 的联合创始人 说

> 这是很正常数据库行业中人员流动

- 这MariaDB 
	- 好像 也刚被批 了	
	- MariaDB 什么来头？？

### MariaDB

- MariaDB目前排名13
	- https://mariadb.com/

![图片描述](https://doc.shiyanlou.com/courses/2782/labs/48573/uid1190679-20240415-1713190465210) 

- 这两个logo 很像！
	- 有没有 什么渊源 呢？

### mariaDB 和 mysql

- 开源社区和创始人 对oracle 这样的商业公司 并不信任
  - 于是创始人 根据gpl
  - 做出了 新分支mariadb
  - 想重新开始
  - 继续 借助 开源社区的力量

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650105760336)

- 由于 mysql最早 是GPL协议 的
  - 所以 oracle 对mariadb 也没有办法
  - 因为协议的存在
  - 上了法庭 oracle理亏
- mysql创始人monty
	- 后来离开oracle
	- 再次创业

### 发展趋势

- 我们再回来看看发展趋势

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221209-1670577094921)

- 第四名postgresql奋起直追

### postgresql

- postgres其实历史特别悠久
	- 比mysql、oracle还要悠久
	- 是引领着数据库技术一路进化到今天的
	- https://www.postgresql.org/

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220416-1650103461991)

- 世界上最先进的开源数据库
  - postgres是开放源代码的
    - 和mysql一样都是开源的
  - 敢自称是最先进的(the most advanced)
  - 对比mysql(the most popular)
- postgresql和mysql都是开源的
- postgres用的是什么协议呢？
- 我们看看都有什么协议

### 协议选项

- 好多呀

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220419-1650346014709)

- postgres的协议有点类似于bsd协议

### BSD

- BSD 协议

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220417-1650148345328)

- 他和GPL的最大区别是他人是否以后可以闭源
  - GPL必须开源
  - BSD可以闭源
- 闭源之后有什么好处呢？

### 孵化

- 开源和商业
	- 并不是非黑即白的
- 因为下游闭源后
	- 可以进行商业化
- 所以 孵化了 大量商业数据库产品
  - 催生了 各种形态的数据库创新
  - 培养了大量的 Pg 内核研发人才

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220417-1650148465998)

- 这样可以反哺
	- 上游的postgres

- 这其中就包括
  - 亚马逊redshift
  - 国产昆仑和华为高斯

### 国产情况

- 国产数据库在发展中
  - 有开源也有闭源
  - 都站在postgres这个巨人的肩膀上 发展而来的
	- OceanBase
	- TiDB
	- MemFireDB

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220417-1650149122608)

- 我们选用哪个呢？

### postgres

- 选比较通用的！！！
	- 经典数据库postgres数据库
		- 包含存储、事务、SQL 这几个核心引擎
		- 以及基于这些核心引擎之上的数据库功能
		- 性能、成本、安全、可靠等企业级特性

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240415-1713191345996)

- 其实所有的 数据库
  - 大同小异
  - 尤其是华为高斯
  - 很多操作类似于pg

## 总结

- 我们了解了数据库的排行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230907-1694093715005)

- 分析了前三名
  - oracle
  - mysql
  - mssql server
- 最后选用的是
	- postgres

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221209-1670579455827)

- 这个postgres到底怎么安装呢？🤔
- 下次再说 👋

