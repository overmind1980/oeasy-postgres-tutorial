---
show: step
version: 1.0
enable_checker: true
---

# 字符串型变量_VARCHAR_CHAR_TEXT   

##  回忆

- 上次我们研究了字符串类型的变量
	- CHAR(n) 定长度
	- VARCHAR(n) 有限可变长度
	- TEXT 无线可变长度
- 当年IBM时代
	- 数据都存储在卡片上
	- 是如何进行存储的呢？🤔

### BCDIC

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667290576172)

- 使用BCDID
	- 这是一种6-bit的编码格式
	- 也就是说 卡片上6个孔
	- 可以表示一个字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667299681208)

- 卡片上总共有几个孔呢？

### 卡片的进化

-  1880s and 1890s
	- 存储在Hollerith的卡片上
	- 后来烧掉了
- 1900
	- 22 columns and 8 punch positions
	- 总共176个孔

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688036557618)

-  the late 1920s
	-  45 columns of round holes and 12 punch positions

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688036628644)

- 数据量增长迅速
	- 摩尔定律前传

### 标准大小

- 圆形孔阻碍了数据的增长
	- 方形孔 应运而生

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688036896486)

- 1928
	-  80 columns 10 rows 
- 1930
	-  80 columns 12 rows 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688036767953)

- 这也是我们终端总共有80列的原因
- 围绕这小小的卡片
	- 还有IBM的一番浮沉

### WATSON的新工作
 
- 爱尔兰裔的沃森
	- 来到了Flint旗下的公司CTR
	- Computing-Tabulating-Recording

- 三个子公司位于三个不同的地方
	- New York
	- Washington, D.C
	- Ohio
	- 
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688037080463)

- CTR旗下三个子公司
	- 上班打卡钟表公司
	- 称重器公司
	- 卡片采集公司
- 核心竞争力
	- 来自于卡片采集公司

### 制表机市场

- 制表机市场现在有两大巨头
	- IBM
		- 机电的方式读取卡片
		- 每分钟可以处理150张卡片
	- 雷明顿
		- 又造手枪又造打字机
		- 纯机械式
		- 每分钟可以处理100张卡片

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688037192389)

- 美国人口普查局
	- 自己还造了38台
	- 都在正常使用
	- 但不进行销售
	- 后来也买了几台IBM的机器
- IBM的策略沿袭了之前
	- 只租不卖

### 租赁协议

- 租赁协议
	1. 机器归IBM所有，客户只有租赁期内的使用权。
	2. 客户只能使用指定的机器，不能给别人用，也不能和别人换着用。
	3. 客户只能使用本公司生产的定制卡片，不能使用别家的，也不能自己动手做卡片，自己做和使用别家的一个性质。
	4. 客户必须按月付租金。
	5. IBM如果发现客户使用了其他公司的卡片（例如，本月卡片购买量明显低于以前，而客户的业务活动一切正常），有权拒绝继续出租制表机。
	6. 如果IBM确定客户使用了其他公司的卡片，制表机租金将上涨15%。

- 租赁协议的重点其实是卡片
	- 这是一份针对卡片的"搭售协议"
	- 卡片是耗材
	- 消耗量巨大
- 除了人口普查局之外
	- 移民局
	- 农业部
	- 教育部
	- 邮政总局
	- 劳工部
	- 海军部
- 都在数据化

### 卡片消耗量

- 各部门一年要使用3亿4000万张卡片
	- 赶上全国人口普查
	- 增加一倍还多
	- 超过7亿张
- IBM要求必须使用自己卡片
	- 理由是为了保证机器正常运转
- 但是卡片就是一张纸
	- 尺寸要求再精确也还是一张纸
	- 没有任何技术难度

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688037204208)

- 实际上人口普查局就是这么做的
	- 他们一直自己生产印制卡片
	- 用在自己生产的那38台机器上
	- 同时也用在他们购买的那几台IBM的机器上
	- 前前后后自己共生产了6亿多张卡片

### GPO

- 1914年开始
	- 美国财政部开始着手推动联邦政府部门的"统一印刷"
	- 将所有政府部门工作中需要用到的表格、文件等印刷品
	- 统一到一个专门的部门“美国政府印刷局
		- （United States Government Printing Office）
		- 浓浓罗马味儿

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230630-1688072448819)

- 目的
	- 一方面是为了保密
	- 另一个方面是为了节省印刷费用
	- 避免闲置
	- 有点像总部直采
	- 每年批政府预算都要看国会拉着个长脸
	- 很伤自尊

### 建立
- 1919年
	- 财政部的努力终于成功
	- 国会通过正式法案要求联邦政府机构的所有印刷品
		- 都必须由GPO来印制
	- 每年好几亿张的制表机卡片当然也属于印刷品的范围
		- 只能由GPO来印
		- 可是这和IBM的搭售协议相违背
- IBM的搭售协议与这个后来才有的法律
	- 出现了冲突
	- 一方是国家直属的印刷公司部门
	- 另一方是垄断全国市场的超级巨头
- 按理说
	- 改一下协议就完了
	- 你和国家叫什么劲？
	- 还能怼得过法律么？
- 要知道IBM领导可不是一般人
	- 从来不走寻常路
	- 此时他第二个儿子杠杆诞生

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688037028949)

- 他善于THINK

### THINK

- 沃森销售员出身
	- 和那些只想挣钱的资本家不同
	- 非常尊重员工个体
	- 长期深入琢磨人心
	- 这公司必须得有自己的企业文化
		- 使命愿景价值观

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230629-1688037037577)

- 沃森在NCR的时候就主张THINK
	- 从生产线到办公室
	- 每个人都要琢磨琢磨

### 思考

- 他确实善于思考
	- 上次对于二手市场的思考
		- 差点把他送进监狱

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230630-1688073539430)

- 这次他又琢磨上了

### 利润

- 更重要的是
	- 小小卡片大大利润
	- 卖卡片的钱是大制表机的1/3了
	- 而且不用销售
	- 年年都有
- 1921年
	- 美国联邦政府开始推行数据汇总统计工作的集中
	- 他们发现为了完成每10年一次的全国人口普查
	- 人口普查局配备了
		- 大量的制表机
		- 与之相配套的卡片分拣机、打孔机
		- 操作人员
	- 可在两次普查之间的时间
		- 这些设备在闲置
- 不统计不知道
	- 已统计吓一跳

### 调查

- 1923年
	- 国会不得不专门成立了一个联合调查委员会
	- 对政府部门中使用的制表机和卡片相关费用进行全面调查
	- 必须想点办法减负
	- 与制表机相关的费用由三部分构成
		- 机器租金
		- 卡片费用
		- 人员费用
	- 1923年共花费了230万美元吧
		- 制表机的租金是18万美元
		- 打孔机和分拣机的租金是7.5万美元
		- 3亿4000万张卡片花费37万美元
		- IBM和雷明顿两家收入达到了62万美元
			- 这只是一年的
	- 最刺激国会的是
		- GPO这一年自己印了982.2万张卡片
		- 用于人口普查局自己的制表机上
		- 卡片的成本非常低
		- 省了1万多美元

- 联合调查委员会最后结论：
	- 如果将联邦政府需要用到制表机的数据汇总统计工作集中在一个部门
		- 可以减少20%的制表机数量
		- 同时就可以减少692名工作人员
		- 如果再将所有需要的卡片交由GPO自己印制
		- 联邦政府每年一共可以节省开支25.8万美元
	- 这个数字太具体了
	- 美国政府无法拒绝

- 问题 又来到IBM 一方
	- IBM的沃森
		- 又会THINK出什么好主意？

## 总结🤔
- 这次了解到文本类型最初是如何存储的
	- 存储在纸质卡片上
	- 而这个卡片本身利益巨大
- 美国国会为了缩减政府开支
	- 专门调查了卡片的使用情况
	- 发现可以纸制品可以统一打印制作
	- 这就会削减IBM的销售利益
- IBM会坦然接受吗？🤔
- 下次再说？👋🏻
