---
show: step
version: 1.0
enable_checker: true
---

#    è¡¨æ ¼å»é™¤å†—ä½™_æå–å…¶ä¸­çš„æ•°æ®_ä¸€ä¸ªè¡¨å˜ä¸¤ä¸ªè¡¨    
 
##  å›å¿†

- ä»»ä½•é›†åˆéƒ½å¯ä»¥è¿›è¡Œç¬›å¡å°”ç§¯çš„è¿ç®—
	- è¿™æ ·å¯ä»¥å¾—åˆ°å…¨æ’åˆ—
	- ä¹Ÿå°±æ˜¯ç½—åˆ—å‡ºæ‰€æœ‰çš„å¯èƒ½æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694770345749)

- åœ¨ç¬›å¡å°”ç§¯çš„åŸºç¡€ä¸Š
	- æœ‰æ²¡æœ‰æ›´åŠ å®ç”¨çš„è¿æ¥æ–¹å¼å‘¢ï¼ŸğŸ¤”

### åŸºç¡€æŸ¥è¯¢

```
\c sanguo

SELECT 
	*
FROM
	heroes
;

SELECT
	*
FROM
	items
;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694787425897)

- å°è¯•è¿æ¥

### ç¬›å¡å°”ç§¯

```
\c sanguo

SELECT 
	*
FROM
	heroes,
	items
;
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694787671653)

- å¾—åˆ°ç¬›å¡å°”ç§¯147è¡Œ
	- 3 * 49
- å¯ä»¥çœ‹å¾—æ›´æ˜ç¡®ä¸€äº›å—ï¼Ÿ

### æŠ•å½±

```
\c sanguo

SELECT 
	heroes.id as heroes_id,
	items.id as items_id
FROM
	heroes,
	items
;
```

- ç¬›å¡å°”ç§¯ æŠ•å½±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694787831336)

- å¯ä»¥è®©è¿™ä¸ªç¬›å¡å°”ç§¯ æ›´æœ‰æ„ä¹‰å—?

### å°è¯•æ‰¾åˆ°å…³è”

```
\c sanguo

SELECT 
	items.city,
	heroes.name AS heroes_name,
	items.name AS items_name
FROM
	heroes,
	items
WHERE
	heroes.city = items.city;
```

- æ‰¾åˆ° åŒä¸€åŸå¸‚çš„æ­¦å°†å’Œå®ç‰©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694788552493)

- å…³ç¾½ æ‰€åœ¨çš„ è§£è‰¯
	- æ²¡æœ‰å®ç‰©
- æ¶¿ çš„ æ­¦å°†
	- åˆ˜å¤‡ã€å¼ é£
- æ¶¿ çš„ å®ç‰©
	- é’é¾™åƒæœˆåˆ€ã€ä¸ˆå…«è›‡çŸ›
- å¾—åˆ°çš„è¿˜æ˜¯ç¬›å¡å°”ç§¯

### æ ¹æ®å®ç‰©è¿æ¥

```
\c sanguo

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.items = items.name;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694788790259)

- è¿™ä¸ªå¾ˆå¥½ç†è§£
	- æŸ¥è¯¢ æ­¦å°† æ‹¥æœ‰å®ç‰©çš„ æ•ˆæœ
- ä¸ºä»€ä¹ˆ
	- æ²¡æœ‰å…³ç¾½çš„è®°å½•å‘¢ï¼Ÿ

### æŸ¥è¯¢å…³ç¾½

```
\c sanguo

SELECT 
	*
FROM
	heroes
WHERE
	heroes.name = 'å…³ç¾½';
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694788921483)

- ç”±äºå…³ç¾½ä¸¤ä»¶å®ç‰©
	- æ— æ³•æŸ¥è¯¢å‡ºæ¥
- è¿™ä¹Ÿæ˜¯ç¬¬ä¸€èŒƒå¼çš„æ„ä¹‰
- æƒ³è¦æŸ¥å‡ºæ¥çš„è¯
	- åº”è¯¥å¦‚ä½•å‘¢ï¼Ÿ

### ä¿®æ”¹è¡¨


### æ·»åŠ åˆ—
```
\c sanguo

ALTER TABLE heroes ADD COLUMN item1 VARCHAR(30);
ALTER TABLE heroes ADD COLUMN item2 VARCHAR(30);

\d heroes
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693454518092)

- å¯ä»¥æ›´æ–°æ•°æ®å—ï¼Ÿ

### update

```
\c sanguo

UPDATE 
	heroes 
SET 
	item1 = SPLIT_PART(items, ' ', 1), 
	item2 = SPLIT_PART(items, ' ', 2)
;

SELECT 
	items,
	item1,
	item2
FROM
	heroes
;

```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789185592)

- è¿™æ ·ä¿®æ”¹ä¹‹åæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ

### å†å°è¯•

```
\c sanguo

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item1 = items.name;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789306727)

- æœ‰äº† å…³ç¾½å®ç‰©çš„è®°å½•äº†
- ä¸è¿‡æ²¡æœ‰èµ¤å…”é©¬çš„è®°å½•

### UNION

```
\c sanguo

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item1 = items.name

UNION

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item2 = items.name;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789601776)

- ä»ç„¶æ²¡æœ‰ å…³ç¾½ çš„èµ¤å…”é©¬çš„æ•ˆæœ

### æŸ¥è¯¢å®ç‰©è¡¨

- æŸ¥è¯¢ èµ¤å…”é©¬

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789655636)

- å®ç‰©è¡¨é‡Œç¡®å®æ²¡æœ‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789683651)

- æ’å…¥èµ¤å…”é©¬è®°å½•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789705023)

- å¯ä»¥æ‰¾åˆ°èµ¤å…”é©¬äº†

### UNION

```
\c sanguo

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item1 = items.name

UNION

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item2 = items.name;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789786263)

- å°è¯•ç®€åŒ–

### OR

```
\c sanguo

SELECT 
	heroes.name AS heroes_name,
	items.name AS items_name,
	items.effects
FROM
	heroes,
	items
WHERE
	heroes.item1 = items.name
	OR
	heroes.item2 = items.name;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230915-1694789858918)

- è¿™æ¬¡æ„Ÿè§‰åˆ°äº†1NFçš„ä½œç”¨

##  æ€»ç»“ğŸ¤”
- è¿™æ¬¡åœ¨ç¬›å¡å°”ç§¯çš„åŸºç¡€ä¸Š
	- å¢åŠ äº†ä¸€ä¸ªç­›é€‰
	- æ ¹æ®å®ç‰©å°†
		- æ­¦å°†è¡¨
		- å®ç‰©è¡¨
		- è¿æ¥äº†èµ·æ¥
- è¿™ç§è¿æ¥æ–¹å¼
	- æœ‰åå­—å—ï¼Ÿ
	- è¿˜æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹

