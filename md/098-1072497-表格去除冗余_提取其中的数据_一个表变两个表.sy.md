---
show: step
version: 1.0
enable_checker: true
---

#    è¡¨æ ¼å»é™¤å†—ä½™_æå–å…¶ä¸­çš„æ•°æ®_ä¸€ä¸ªè¡¨å˜ä¸¤ä¸ªè¡¨    
 
##  å›å¿†

- ä¸Šæ¬¡äº†è§£äº†æ—¶é—´å˜é‡
	- date æ—¥æœŸæ— æ—¶é—´
	- time æ—¶é—´æ— æ—¥æœŸ
	- timestamp æœ‰æ—¶é—´ä¹Ÿæœ‰æ—¥æœŸ
- timestamp å¯ä»¥è¿›è¡Œè¿ç®—
	- å¾—åˆ° æ—¶é—´å·® interval
	- æˆ–è€… æ ¹æ® æ—¶é—´å·® å¾—åˆ°æ–°çš„ timestamp

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230904-1693812798050)

- ç›®å‰çš„è¿™ä¸ªè¡¨æ ¼å¯ä»¥è¿›è¡Œå‹ç¼©å—ï¼ŸğŸ¤”

### é‡æ–°æ’åº

```
\c chinese_food_city

SELECT 
	dk_id,
	shop,
	shop_owner
FROM
	bill
ORDER BY
	shop_owner,
	shop,
	dk_id
;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694004866640)

### åˆ†æç»“æœ

- billè¡¨çš„åˆ—æœ‰å¦‚ä¸‹å…³ç³»
	- æ ¹æ®æ¡£å£id å¯ä»¥å¾—åˆ° shop
	- æ ¹æ®æ¡£å£id å¯ä»¥å¾—åˆ° shop_owner

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694004719889)

- ä¹Ÿå°±æ˜¯è¯´ 
	- æ˜ç¡®äº† æ¡£å£id
	- å°±ä¸€å®šèƒ½ç¡®å®šshop å’Œ shop_owner
- æ•°æ®æ˜¯å¦å­˜åœ¨å†—ä½™å‘¢ï¼Ÿ

### å†—ä½™åˆ†æ

- çº¢æ¡†ä¸­çš„ æ•°æ® åº”è¯¥æ˜¯å†—ä½™çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694004977367)

- æ˜¯å¦æ¶ˆé™¤å†—ä½™æ•°æ®å‘¢ï¼Ÿ

### æ¶ˆé™¤å†—ä½™

- èƒ½æŠŠ 
	- æ¡£å£idã€shopã€shop_ownerçš„å…³ç³»
	- å¦å­˜è¿›ä¸€ä¸ªè¡¨
		- æ¡£å£è¡¨

```
\c chinese_food_city

CREATE TABLE stall(
	dk_id VARCHAR(10),
	shop VARCHAR(20),
	shop_owner VARCHAR(20)
)
;
```

- å¦‚ä½•æ’å…¥æ•°æ®å‘¢ï¼Ÿ

### å…ˆæŸ¥è¯¢å‡ºæ¥

- å…ˆå°†è¦æ’å…¥çš„æ•°æ® æŸ¥è¯¢å‡ºæ¥

```
\c chinese_food_city

SELECT 
	dk_id,
	shop,
	shop_owner
FROM
	bill
;
```

- æŸ¥è¯¢ç»“æœå¦‚ä¸‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694005286659)

- éœ€è¦å»é‡

### å»é‡

```
\c chinese_food_city

SELECT DISTINCT
	dk_id,
	shop,
	shop_owner
FROM
	bill
;
```

- ç»“æœç¬¦åˆè¦æ±‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694005345083)

- å°†ç»“æœæ’å…¥åˆ°æ–°è¡¨æ ¼ä¸­

### æ’å…¥æ•°æ®

```
\c chinese_food_city

INSERT INTO
	stall(dk_id,shop,shop_owner)
SELECT DISTINCT
	dk_id,
	shop,
	shop_owner
FROM
	bill
;
```

- æ’å…¥æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694007849696)

- å¯ä»¥å°† billè¡¨ä¸­çš„åˆ—åˆ é™¤å—ï¼Ÿ

### åˆ é™¤åˆ—

```
\c chinese_food_city

ALTER TABLE
	bill
DROP COLUMN 
	shop
;
ALTER TABLE
	bill
DROP COLUMN 
	shop_owner
;
```

- åˆ é™¤ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694008018676)

##  æ€»ç»“ğŸ¤”

- è¿™æ¬¡ä»ä¸€ä¸ªè¡¨bill
	- å˜æˆäº† ä¸¤ä¸ªè¡¨
		- bill
		- stall

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230906-1694008210314)

- å»é™¤äº†å†—ä½™
	- ä½†æ˜¯èƒ½å°†è¿™ä¸ªæ•°æ®æ¢å¤æˆä¸€ä¸ªè¡¨å—ï¼Ÿ
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»
