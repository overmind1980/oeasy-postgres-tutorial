---
show: step
version: 1.0
enable_checker: true
---

# 数据导入

## 回忆

- 上次我们导出了数据
- 数据导出并不复杂
- 用的是COPY命令

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658535972533)

- 确实可以将数据导出
- 但是如何反过来
- 再将数据导入呢？🤔

### 查看帮助

- \h COPY

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658538942921)

- 导入和和导入的区别
- 一个是FROM
- 另一个是TO
- 不要翻页自己先试试

### 导入数据

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658539065879)

- 直接报错了
- 应该是要加上OPTION
- 怎么加呢？

### 查看帮助

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658539129992)

### 再次尝试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658539229034)

- 貌似成功了
- 我们去看一下结果

### 结果

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658539283481)

- 实践验证
- 确实是可以的
- 那么我如果想要建立自己的数据化初始化批处理sql文件
- 可以从csv文件中完成么？

### 构建初始化语句

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658540162374)

- 这样的初始化语句可以执行么？

### 执行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658540198361)

- 这样确实是可以初始化数据库的
- 可是这两种方式哪种好呢？
  - 直接把待COPY的数据写到sql里
  - 把待COPY的数据写到csv格式的文件里

### 分工

- 我觉得还是第二种好一点
- 分工明确
  - sql负责整体的流程
  - csv负责具体的某个表的数据

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220723-1658542153223)

- 这样各个文件就像各个器官各司其职
  - 错误也更好定位
  - 而且sql文件中只有构建结构的流程
    - 更容易理解
  - 各个表的数据也都在各自的csv中
    - 方便做一些更细化操作
- 我们这次就先到这里
- 去总结一下

## 总结

- 我们上次是导出
  - 用的的是TO
- 这次是导入
  - 用的是FROM
- 可以把CSV格式的文档导入到数据库的表当中
- 初始化的时候
- 也可以用这个数据直接进行初始化
- 这一章节基本完成了
- 我们去总结一下
