---
show: step
version: 1.0
enable_checker: true
---

#  åµŒå¥—æŸ¥è¯¢_æ ¹æ®èšåˆå‡½æ•°ç»“æœ_è¿›è¡ŒæŸ¥è¯¢
 

##  å›å¿†

- ä¸Šæ¬¡ç»§ç»­ç ”ç©¶ åµŒå¥—æŸ¥è¯¢
	- å¾—åˆ°äº†ä¸¤ä¸ª å®ç‰©é›†åˆ
		- è‹±é›„æ‰‹ä¸­çš„ å®ç‰©
		- å®ç‰©è¡¨ä¸­çš„ å®ç‰©
	- æ‰¾åˆ° è¿™ä¸¤ä¸ªé›†åˆçš„ å·®é›†
		- åœ¨è‹±é›„æ‰‹ä¸­ ä½†ä¸åœ¨ å®ç‰©è¡¨ä¸­
	- å°† å·®é›† 
		- æ‰¹é‡æ’å…¥äº† å®ç‰©è¡¨ä¸­	
	- è¿™æ · 
		- è‹±é›„æ‰€æœ‰çš„ å®ç‰©
		- éƒ½åœ¨å®ç‰©è¡¨ä¸­äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230825-1692968214864)

- åŒæ—¶å¸¦æ¥ä¸€ä¸ªé—®é¢˜
	- å…³ç¾½ æ‹¥æœ‰ä¸¤ä¸ªå®ç‰© 
		- é’é¾™åƒæœˆåˆ€
		- èµ¤å…”é©¬
	- å®ç‰©è¡¨ä¸­ æœ‰ é’é¾™åƒæœˆåˆ€
	- ä½†æ˜¯ æœ€æ–°æ’å…¥ å®ç‰©è¡¨çš„ æ˜¯ ä¸¤ä¸ªå®ç‰©
- è¿™çœ‹èµ·æ¥ éå¸¸æ··ä¹± 
	- æœ‰ä»€ä¹ˆåŠæ³• èƒ½å¤Ÿè§£å†³å—ï¼ŸğŸ¤”

### åˆ†å‰²å­—ç¬¦ä¸²

- å…ˆå¯¹ è‹±é›„è¡¨ä¸­çš„ å®ç‰©è¿›è¡ŒæŸ¥è¯¢

```
\c sanguo

SELECT 
	items
FROM
	heroes
;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693449336015)

- éœ€è¦ç­›é€‰

### è¿›è¡Œç­›é€‰

```
\c sanguo

SELECT 
	items
FROM
	heroes
WHERE
	items != ''
;
```

- ç­›é€‰ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693449431266)

- å¦‚ä½•å°† å­—ç¬¦ä¸² æŒ‰ç…§ç©ºæ ¼åˆ†å¼€å‘¢ï¼Ÿ

### æœç´¢ 

- æœç´¢ split_string
	- https://www.postgresql.org/docs/current/functions-string.html

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693449553899)

- å°è¯•å°†heroesä¸­çš„itemsåˆ†åˆ—

### åˆ†åˆ—

```
\c sanguo

SELECT 
	split_part(items, ' ', 1) AS item1
FROM
	heroes
WHERE
	items != ''
;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693449708429)

### å¤šä¸ªåˆ†åˆ—

```
\c sanguo

SELECT 
	split_part(items, ' ', 1) AS item1,
	split_part(items, ' ', 2) AS item2,
	split_part(items, ' ', 3) AS item3
FROM
	heroes
WHERE
	items != ''
;
```

- æŸ¥è¯¢ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230831-1693449822286)

- è¿™æ ·ç¡®å®å°† å®ç‰©åˆ†å¼€æˆå¤šä¸ªåˆ—äº†
- ç„¶ååº”è¯¥å¦‚ä½•å‘¢ï¼Ÿ

## æ€»ç»“

- è¿™æ¬¡äº†è§£äº†split_partå‡½æ•°
	- å¯ä»¥å°† å­—ç¬¦ä¸² æ ¹æ® åˆ†éš”ç¬¦ åˆ†å‰²å¼€æ¥
		- split_part(items, ' ', 1) AS item1,
	- å¦‚æœæˆ‘æƒ³å°†è¿™äº›åˆ†å‰²å‡ºæ¥çš„åˆ—
	- å˜æˆå®ä½“çš„åˆ—
	- åº”è¯¥å¦‚ä½•å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»
