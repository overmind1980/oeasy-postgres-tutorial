---
show: step
version: 1.0
enable_checker: true
---

#   count_è®¡æ•°å‡½æ•°_ç»Ÿè®¡æ±‡æ€» 

##  å›å¿†

æ¬¡ä½¿ç”¨äº†GROUP BYå…³é”®å­—
	- å¯¹äºæ•°æ®è¿›è¡Œäº†åˆ†ç±»ç»Ÿè®¡çš„æ“ä½œ
		- å¯ä»¥å¯¹ æ­¦å°†è¡¨ä¸­çš„æ­¦å°†çš„æ‰€å±å›½ è¿›è¡Œè®¡æ•°
		- ä¹Ÿå¯ä»¥å¯¹ å®ç‰©è¡¨ä¸­çš„åŸå¸‚ è¿›è¡Œè®¡æ•°
- å¯ä»¥
	- å¯¹æ­¦å°†
		- æŒ‰å‡ºç”ŸåŸå¸‚
			- è¿›è¡Œæ±‡æ€»å—ï¼ŸğŸ¤”

### å›å¿†æŒ‰ç…§æ”¿æƒåæ±‡æ€»

```
\c sanguo

SELECT 
	nation,
    count(id) 
FROM 
    heroes
GROUP BY
	nation
;
```

- æŒ‰æ”¿æƒæ±‡æ€»ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692607648810)

- å°†nation æ¢æˆcity

### æŒ‰å‡ºç”Ÿåœ°è¿›è¡Œæ±‡æ€»

```
:%s/nation/city/
```

- æ›¿æ¢åå†æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692607773561)

- å¯ä»¥æŒ‰ç…§ 
	- æ”¿æƒåã€å‡ºç”Ÿåœ° ä¸¤ä¸ªå­—æ®µ
	- è¿›è¡Œæ±‡æ€»å—ï¼Ÿ

### ä¸¤ä¸ªæ±‡æ€»åˆ—

```
\c sanguo

SELECT 
    city,
	nation,
    count(id) 
FROM 
    heroes
GROUP BY
	city,
	nation
;
```

- æ±‡æ€» ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692613633506)

- è¿™æ ·å°±å¯ä»¥ 
	- æŒ‰ç…§ æ‰€åœ¨æ”¿æƒ å’Œ å‡ºç”ŸåŸå¸‚ ä¸¤åˆ—
	- è¿›è¡Œæ±‡æ€»äº†
- å¯ä»¥å¯¹æ±‡æ€»ç»“æœæ’åºå—ï¼Ÿ

### æ’åº


```
\c sanguo

SELECT 
    city,
	nation,
    count(id) 
FROM 
    heroes
GROUP BY
	city,
	nation
ORDER BY
	city,
	nation
;
```

- ç¬¬ä¸€æ’åºå…³é”®å­— æ˜¯ å‡ºç”ŸåŸå¸‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692613777772)

- å¯ä»¥å…ˆæŒ‰ç…§ æ‰€åœ¨æ”¿æƒ æ’åºå—ï¼Ÿ

### ä¿®æ”¹ æ’åºæ¬¡åº

```
\c sanguo

SELECT 
	nation,
    city,
    count(id) 
FROM 
    heroes
GROUP BY
	nation,
	city
ORDER BY
	nation,
	city
;
```

- å…ˆæŒ‰ç…§ æ‰€åœ¨æ”¿æƒ è¿›è¡Œæ’åº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692613911388)

- äº¤æ¢ åˆ†ç»„å…³é”®å­—æ¬¡åº
	- ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“å—ï¼Ÿ

### äº¤æ¢åˆ†ç»„ æ¬¡åº


```
\c sanguo

SELECT 
	nation,
    city,
    count(id) 
FROM 
    heroes
GROUP BY
	city,
	nation
ORDER BY
	nation,
	city
;
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230821-1692613911388)

- ä¸ä¼šäº§ç”Ÿå˜åŒ–

## æ€»ç»“ğŸ¤”

- è¿™æ¬¡äº†è§£äº†äºŒçº§åˆ†ç»„
	- ä¸ä½†æœ‰ä¸€ä¸ªåˆ†ç»„åˆ—
		- GROUP BY çš„åˆ—
- ä½¿ç”¨ä¸¤ä¸ªåˆ†ç»„åˆ—
	- å°±å¯ä»¥ äº§ç”Ÿ äºŒçº§åˆ†ç»„æ•ˆæœ
- å¦‚æœä½¿ç”¨å¤šä¸ªåˆ—
	- å°±å¯ä»¥ äº§ç”Ÿ å¤šçº§åˆ†ç»„æ•ˆæœ
- åˆ†ç»„æ±‡æ€»çš„ç»“æœ 
	- å¯ä»¥ä½¿ç”¨ æ’åº æ¥æ§åˆ¶æ¬¡åº
- æ˜¯å¦å¯ä»¥ ä¸ç”¨ åˆ†ç»„åˆ—
	- GROUP BY å­å¥
	- ç›´æ¥å¯¹æ•´ä¸ªç»“æœé›† è¿›è¡Œè®¡æ•°å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»