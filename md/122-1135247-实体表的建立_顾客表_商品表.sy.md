---
show: step
version: 1.0
enable_checker: true
---

#   ä»å®¢æˆ·è¡¨åˆ°é”€å”®è¡¨_1NF_åŸå­å€¼_atomic_value 
 

##  å›å¿†

- ä¸Šæ¬¡åˆ†æäº†åŸå§‹è¡¨æ ¼
	- å‘ç°åŸå§‹è¡¨ä¸æ»¡è¶³2NF
	- éœ€è¦æ‹†è¡¨
- é¡¾å®¢è¡¨ å’Œ äº§å“è¡¨ 
	- éƒ½é¡ºåˆ©å»ºè¡¨
	- å¹¶æ’å…¥æ•°æ®
- å¹¶åˆ¶å®šäº†æ‹†è¡¨è®¡åˆ’

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231006-1696590063924)
 
- å…·ä½“æ€ä¹ˆæ‹†å‘¢ï¼ŸğŸ¤”

### å½“å‰çŠ¶æ€

- å¦‚ä½• åœ¨å½“å‰çš„çŠ¶æ€ä¸‹å®ç°

```
CREATE DATABASE crm;

\c crm

CREATE TABLE sales(
	customer VARCHAR(30),
	product VARCHAR(30),
	address VARCHAR(30),
	supplier VARCHAR(30),
	telephone VARCHAR(30),
	price NUMERIC
)
;


INSERT INTO 
	sales(
	customer,
	product,
	address,
	supplier,
	telephone,
	price)
VALUES
	('æ¨æ˜','ps4','å®šç¦åº„1å·','sony','800-600-8888',3000),
	('æå©‰','ps5','æ¢†å­äº•1å·','sony','800-600-8888',10000),
	('æå©‰','mac','æ¢†å­äº•1å·','apple','800-666-1234',10000),
	('åˆ˜é’','mac','å®šç¦åº„1å·','apple','800-666-1234',10000),
	('èƒ¡å–µ','ps5','ä¸­è“1å·','sony','800-600-8888',10000)
;
```

### å»ºè¡¨

```
\c crm

CREATE TABLE customer(
	id SERIAL PRIMARY KEY,
	name VARCHAR(30),
	address VARCHAR(30)
);

CREATE TABLE product(
	id SERIAL PRIMARY KEY,
	product VARCHAR(30),
	supplier VARCHAR(30),
	telephone VARCHAR(30),
	price NUMERIC
);
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709080561)

### è´­ä¹°è¡¨ 

- è´­ä¹°è¡¨ å­˜å‚¨ä¸¤ä¸ªid
	- ä½†è¿™ä¸¤ä¸ªidæ˜¯SERIALç±»å‹çš„
	- ç°åœ¨åº”è¯¥ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709159574)

### å‡†å¤‡æ’å…¥æ•°æ®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709535977)

- æ³¨æ„ ç›´æ¥æŸ¥è¯¢ ä¼šå¯¼è‡´å®¢æˆ·çš„é‡å¤
- ä¸€å®šè¦å»é‡ï¼

### æ’å…¥å®¢æˆ·è¡¨æ•°æ®

```
\c crm

INSERT INTO
	customer(name,address)
(
SELECT DISTINCT 
	customer,address
FROM
	sales
)
;
```

- æ’å…¥ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693709747294)

### æ’å…¥äº§å“æ•°æ®

```
\c crm

INSERT INTO product(
	product,
	supplier,
	telephone,
	price)
(
SELECT DISTINCT 
	product,supplier,telephone,price
FROM
	sales
)
;
```

- æ’å…¥ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693710152569)

- è¿™ä¸ªè´­ä¹°è®°å½•
	- åº”è¯¥å¦‚ä½•å…¥åº“å‘¢ï¼Ÿ

##  æ€»ç»“ğŸ¤”

- è¿™æ¬¡å»ºç«‹äº† é¡¾å®¢è¡¨ å’Œ äº§å“è¡¨ 
	- éƒ½é¡ºåˆ©å»ºè¡¨
	- å¹¶æ’å…¥æ•°æ®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230903-1693710653862)

- è´­ä¹°è®°å½•è¡¨åº”è¯¥æ€ä¹ˆåšå‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ŸğŸ‘‹ğŸ»
